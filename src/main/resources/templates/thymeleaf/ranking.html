<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layouts"
	layout:decorate="~{thymeleaf/layouts/default_layout}">

<head>
<meta charset="utf-8" />
<script type="text/javascript"
	src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript">
	$(function() {
		
		var list='[[${rankinfo}]]';
		console.log(list);
		let today = new Date();
		let year = today.getFullYear(); // 년도
		let month = today.getMonth() + 1; // 월
		let date = today.getDate(); // 날짜
		let day = today.getDay(); // 요일
		console.log(month);

		$("#this_month").text(month + '월');
	})
</script>
<style type="text/css">
#title {
	border-bottom: 1px solid #4682B4;
	margin: 50px;
}

#this_month {
	font-size: 36px;
	font-weight: bold;
}

table {
	/* 	margin:150px; */
	
}
img{
	width:30px;
	height:30px;
}
</style>
</head>

<body>
	<div layout:fragment="content">
		<h2 id="title">순위</h2>
<!-- 		<p th:text="${rankinfo}"></p> -->
		<div class="container-fluid text-center">
		<h3 id="this_month"></h3>
			<table class="table">
				<thead>
					<tr>
						<th scope="col">순위</th>
						<th scope="col">이메일</th>
						<th scope="col">평균소비%</th>
						<th scope="col">전달소비%</th>
						<th scope="col">이번달소비%</th>
						<th scope="col">소비가능금액</th>
						<th scope="col">최소소비%</th>
					</tr>
				</thead>
				<tbody>
					
					<th:block th:each="dto, index : ${rankinfo}">
						<tr>
							<td scope="row">
						      <img th:if="${index.index == 0}" src="/assets/1st.png" alt="1st Place Icon">
						      <img th:if="${index.index == 1}" src="/assets/2nd.png" alt="2nd Place Icon">
						      <img th:if="${index.index == 2}" src="/assets/3nd.png" alt="3rd Place Icon">
						      <span th:if="${index.index > 2}" th:text="${index.index + 1}"></span>
						    </td>
							<td th:text="${dto.email}"></td>
							<td th:text="${dto.total_cs_percent+'%'}"></td>
							<td th:text="${dto.last_cs_percent+'%'}"></td>
							<td th:text="${dto.this_month_percent+'%'}"></td>
							<td th:text="${dto.this_month_balance+'원'}"></td>
							<td th:text="${dto.min_cur+'%'}"></td>
						</tr>
					</th:block>
				</tbody>
			</table>
			<!-- 		<div class="container-fluid text-center"> -->
			<!-- 			<p id="this_month"></p> -->
			<!-- 			<div class="row"> -->
			<!-- 				<div class="col-md-2"> -->

			<!-- 				</div> -->

			<!-- 			</div> -->
			<!-- 		</div> -->
		</div>
	</div>
</body>

</html>